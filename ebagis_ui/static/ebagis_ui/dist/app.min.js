var app=angular.module("ebagis",["app.templates","ui.bootstrap","ngCookies","ngResource","ngSanitize","ui.router"]);app.directive("header",["$rootScope","UserProfile",function(e,t){var n=function(n,r,a){n.authenticated=!1,n.user=t.data,e.$on("UserProfile.authenticated",function(){n.$apply(function(){n.authenticated=!0,n.user=t.data,console.log("user after login: ",n.user)})}),e.$on("UserProfile.unauthenticated",function(){n.$apply(function(){n.authenticated=!1,n.user=t.data,console.log("user after logout: ",n.user)})})};return{restrict:"E",templateUrl:"app-templates/app/partial/header/header.html",link:n}}]),app.directive("headerAccount",function(){return{restrict:"E",templateUrl:"app-templates/app/partial/header/account.html"}}),app.config(["$stateProvider","$urlRouterProvider","$locationProvider",function(e,t,n){var r={anon:["Auth",function(e){return e.isAnonymous(!0)}],auth:["Auth",function(e){return e.isAuthenticated(!0)}],admin:["Auth",function(e){return e.hasRole("ROLE_ADMIN")}]};n.html5Mode(!0),t.otherwise("404"),e.state("forbidden",{}).state("404",{url:"/404",templateUrl:"app-templates/app/partial/main/404.html"}).state("login",{url:"/account/login",templateUrl:"app-templates/app/partial/account/login.html",controller:"LoginController",resolve:{auth:r.anon,userProfile:"UserProfile"}}).state("register",{url:"/account/register",templateUrl:"app-templates/app/partial/account/register.html",controller:"RegisterController",resolve:{auth:r.anon,userProfile:"UserProfile"}}).state("forgot",{url:"/account/reset",templateUrl:"app-templates/app/partial/account/passwordreset.html",controller:"PasswordResetController",resolve:{auth:r.anon,userProfile:"UserProfile"}}).state("resetConfirm",{url:"/account/resetConfirm/{userToken:[0-9A-Za-z_-]+}/{passwordResetToken:[0-9A-Za-z]{1,13}-[0-9A-Za-z]{1,20}}",templateUrl:"app-templates/app/partial/account/passwordresetconfirm.html",controller:"PasswordResetConfirmController",resolve:{auth:r.anon,userProfile:"UserProfile"}}).state("verifyEmail",{url:"/account/verifyEmail/{emailVerificationToken:[0-9A-Za-z]{1,65}}",templateUrl:"app-templates/app/partial/account/verifyemail.html",controller:"VerifyEmailController",resolve:{auth:r.anon,userProfile:"UserProfile"}}).state("logout",{url:"/account/logout",templateUrl:"app-templates/app/partial/account/logout.html",controller:"LogoutController",resolve:{auth:r.auth,userProfile:"UserProfile"}}).state("account",{url:"/account/",templateUrl:"app-templates/app/partial/account/account.html",resolve:{auth:r.auth,userProfile:"UserProfile"}}).state("root",{url:"/",controller:"RootController",resolve:{auth:r.auth,userProfile:"UserProfile"}}).state("home",{url:"/map",templateUrl:"app-templates/app/partial/map/map.html",controller:"MapController",resolve:{auth:r.auth,userProfile:"UserProfile"}}).state("admin",{resolve:{auth:r.admin}})}]),app.factory("Auth",["UserProfile",function(e){var t={OK:200,UNAUTHORIZED:401,FORBIDDEN:403,NOTFOUND:404,hasRole:function(n){return new Promise(function(r,a){e.hasRole(n)?r(t.OK):a(e.isAnonymous()?t.UNAUTHORIZED:t.FORBIDDEN)})},hasAnyRole:function(n){return new Promise(function(r,a){e.hasAnyRole(n)?r(t.OK):a(e.isAnonymous()?t.UNAUTHORIZED:t.FORBIDDEN)})},isAnonymous:function(n){return new Promise(function(r,a){e.isAnonymous(n).then(function(){r(t.OK)})["catch"](function(e){a(t.FORBIDDEN)})})},isAuthenticated:function(n){return new Promise(function(r,a){e.isAuthenticated(n).then(function(){r(t.OK)})["catch"](function(e){a(t.UNAUTHORIZED)})})}};return t}]);var UserProfileClass=function(){function e(e,t){this.$rootScope=t,this.authenticated=null,this.authPromise=null,this.api=e,this.initialize()}return e.prototype.initialize=function(){this.authenticationStatus(!0).then(function(){console.log("user is logged in on profile initialization")})["catch"](function(e){console.log("profile error on initialization: ",e)})},e.prototype.setAuthenticated=function(e){this.authenticated!=e&&(this.authenticated=e,e?this.$rootScope.$broadcast("UserProfile.authenticated"):this.$rootScope.$broadcast("UserProfile.unauthenticated"))},e.prototype.getAuthenticated=function(){return this.authenticated},e.prototype.refresh=function(){return up=this,up.authPromise=new Promise(function(e,t){up.api.profile().then(function(t){up.data=t,up.setAuthenticated(!0),e(t)})["catch"](function(e){up.setAuthenticated(!1),up.api.clearUserToken(),t(e)})}),up.authPromise},e.prototype.hasRole=function(e){return this.data.roles.indexOf(e)>=0},e.prototype.hasAnyRole=function(e){return!!this.data.roles.filter(function(t){return e.indexOf(t)>=0}).length},e.prototype.isAnonymous=function(e){return up=this,new Promise(function(t,n){up.authenticationStatus(e).then(function(){n()})["catch"](function(e){t(e)})})},e.prototype.isAuthenticated=function(e){return up=this,new Promise(function(t,n){up.authenticationStatus(e).then(function(){t()})["catch"](function(e){n(e)})})},e.prototype.authenticationStatus=function(e){e=e||!1;var t=this;return new Promise(function(n,r){null==t.authPromise||e?promise=t.refresh():promise=t.authPromise,promise.then(function(){n()})["catch"](function(e){r("User is not logged in.",e)})})},e.prototype.login=function(e,t){return up=this,up.api.login(e,t).then(function(){return up.authenticationStatus(!0).then(function(){up.$rootScope.$broadcast("UserProfile.logged_in",data)})["catch"](function(e){console.log(e)})})["catch"](function(e){console.log(e)})},e.prototype.logout=function(){return up=this,up.api.logout().then(function(){up.data=null,up.authPromise=null,up.setAuthenticated(!1),up.$rootScope.$broadcast("UserProfile.logged_out")})["catch"](function(e){console.log(e)})},e}();app.service("UserProfile",["ebagisAPI","$rootScope",UserProfileClass]),app.run(["$rootScope","Auth","$state","UserProfile",function(e,t,n,r){e.$on("$stateChangeError",function(e,r,a,o,s,i){console.log("caught an auth error: request to ",r," with params ",a," returned ",i),i==t.UNAUTHORIZED?(console.log("unauthed: go to login"),n.go("login")):i==t.FORBIDDEN?(console.log("forbidden: go home"),n.go("root")):i==t.NOTFOUND&&(console.log("not found: go 404"),n.go("404"))})}]),app.controller("RootController",["$scope","$state",function(e,t){t.go("home")}]),app.controller("UserProfileController",["$scope","ebagisAPI","Validate","UserProfile",function(e,t,n,r){e.model={first_name:"",last_name:"",email:""},e.complete=!1,console.log(r.data),e.model=r.data,e.updateProfile=function(r,a){e.errors=[],n.form_validation(r,e.errors),r.$invalid||t.updateProfile(a).then(function(t){e.complete=!0},function(t){e.error=t})}}]),app.controller("AuthrequiredCtrl",function(e){e.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]});var ebagisAPI=function(){function e(e,t,n){this.$http=e,this.$cookies=t,this.$state=n,this.API_URL=window.appConfig.urlBase+"api/rest/account",this.use_session=!1}return e.prototype.request=function(e){return console.trace(),this.$cookies.get("token")&&(this.$http.defaults.headers.common.Authorization="Token "+this.$cookies.get("token")),params=e.params||{},e=e||{},url=this.API_URL+e.url,method=e.method||"GET",params=params,data=e.data||{},api=this,new Promise(function(e,t){api.$http({url:url,withCredentials:api.use_session,method:method.toUpperCase(),headers:{"X-CSRFToken":api.$cookies.csrftoken},params:params,data:data}).success(angular.bind(api,function(t,n,r,a){e(t,n)})).error(angular.bind(api,function(e,n,r,a){console.log("error syncing with: "+url),e&&(e.status=n),0==n&&(""==e&&(e={},e.status=0,e.non_field_errors=["Could not connect. Please try again."]),null==e&&(e={},e.status=0,e.non_field_errors=["Server timed out. Please try again."])),t(e,n,r,a)}))})},e.prototype.clearUserToken=function(){var e=this;e.$cookies.remove("token")},e.prototype.register=function(e,t,n,r,a){var o={username:e,password1:t,password2:n,email:r,activation_url:this.$state.href("verifyEmail").replace(/\/+/g,"/")};return o=angular.extend(o,a),this.request({method:"POST",url:"/registration/",data:o})},e.prototype.login=function(e,t){var n=this;return delete n.$http.defaults.headers.common.Authorization,n.$cookies.remove("token"),n.request({method:"POST",url:"/login/",data:{username:e,password:t}}).then(function(e){n.use_session||(n.$http.defaults.headers.common.Authorization="Token "+e.key,n.$cookies.put("token",e.key))})},e.prototype.logout=function(){var e=this;return e.request({method:"POST",url:"/logout/"}).then(function(t){delete e.$http.defaults.headers.common.Authorization,e.clearUserToken()})},e.prototype.changePassword=function(e,t){return this.request({method:"POST",url:"/password/change/",data:{new_password1:e,new_password2:t}})},e.prototype.resetPassword=function(e){return this.request({method:"POST",url:"/password/reset/",data:{email:e,reset_url:this.$state.href("resetConfirm").replace(/\/+/g,"/"),site_name:"ebagis"}})},e.prototype.profile=function(){return this.request({method:"GET",url:"/user/"})},e.prototype.updateProfile=function(e){return this.request({method:"PATCH",url:"/user/",data:e})},e.prototype.verify=function(e){return this.request({method:"POST",url:"/registration/verify-email/",data:{key:e}})},e.prototype.confirmReset=function(e,t,n,r){return this.request({method:"POST",url:"/password/reset/confirm/",data:{uid:e,token:t,new_password1:n,new_password2:r}})},e.prototype.initialize=function(e,t){this.API_URL=e,this.use_session=t},e}();app.service("ebagisAPI",["$http","$cookies","$state",ebagisAPI]),app.controller("LoginController",["$scope","$state","Validate","UserProfile",function(e,t,n,r){e.model={username:"",password:""},e.complete=!1,e.login=function(a){e.errors=[],n.form_validation(a,e.errors),a.$invalid||r.login(e.model.username,e.model.password).then(function(){t.go("home")})["catch"](function(t){e.errors=t})}}]),app.controller("LogoutController",["$scope","$state","UserProfile",function(e,t,n){n.logout().then(function(){t.go("login")})["catch"](function(e){console.log(e)})}]),app.controller("MainController",["$scope","$cookies","$location","ebagisAPI","UserProfile",function(e,t,n,r,a){e.login=function(){a.login(prompt("Username"),prompt("password")).then(function(e){o(e)},s)},e.logout=function(){a.logout().then(o,s)},e.resetPassword=function(){r.resetPassword(prompt("Email")).then(o,s)},e.register=function(){r.register(prompt("Username"),prompt("Password"),prompt("Email")).then(o,s)},e.verify=function(){r.verify(prompt("Please enter verification code")).then(o,s)},e.goVerify=function(){n.path("/verifyEmail/"+prompt("Please enter verification code"))},e.changePassword=function(){r.changePassword(prompt("Password"),prompt("Repeat Password")).then(o,s)},e.profile=function(){r.profile().then(o,s)},e.updateProfile=function(){r.updateProfile({first_name:prompt("First Name"),last_name:prompt("Last Name"),email:prompt("Email")}).then(o,s)},e.confirmReset=function(){r.confirmReset(prompt("Code 1"),prompt("Code 2"),prompt("Password"),prompt("Repeat Password")).then(o,s)},e.goConfirmReset=function(){n.path("/passwordResetConfirm/"+prompt("Code 1")+"/"+prompt("Code 2"))};var o=function(t){e.response=t},s=function(t){e.response=t};e.show_login=!0,e.$on("UserProfile.logged_in",function(t){e.show_login=!1}),e.$on("UserProfile.logged_out",function(t){e.show_login=!0})}]);var MapClass=function(){function e(){this.map=L.map("map").setView([40,-99],4)}return e}();app.service("Map",[MapClass]),app.controller("MapController",["$scope","UserProfile","Map",function(e,t,n){function r(e,t){var n=e.toLowerCase(),r=t.toLowerCase();return n>r?1:r>n?-1:0}function a(){"ascending"===d?s.sort(r):"descending"===d&&s.sort(r).reverse(),$("#feature-list tbody").empty();for(var e in s){var t='<tr class="feature-row" value="'+s[e]+'"><td style="vertical-align: middle;"><img width="16px" height="18px" src="water.png"></td><td class="feature-name">'+s[e]+'</td><td style="vertical-align: middle;"</td></tr>';$("#feature-list tbody").append(t)}}function o(e,t){function n(e,t){var r="";if(e)for(var a in e)if("object"==typeof e[a]){var o;o=null===e[a]||""===e[a]?"none":"",r+="<div>"+String.fromCharCode(160).repeat(t)+a+":  "+o+"</div>",r+=n(e[a],t+=4)}else if("function"!=typeof e[a]){var o;o="Array"==typeof e[a]&&0===e[a].length||""===e[a]||null===e[a]?"none":e[a],r+="<div>"+String.fromCharCode(160).repeat(t)+a+":  "+o+"</div>"}return r}var r='<div id="bar_content">';return r+=n(e,0),r+"</div>"}e.user=t.data;var s,i,l=t.api.$cookies.get("token"),d="ascending",p=n.map,u=L.control.bar("bar",{position:"bottom",visible:!1});p.addControl(u);var c=(L.tileLayer("http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'Tiles by <a href="http://mapc.org">MAPC</a>'}).addTo(p),{color:"#b20000",weight:0,fillOpacity:.75}),m={fillColor:"#0000b2",fillOpacity:"8"};jQuery.ajax({type:"GET",url:"https://test.ebagis.geog.pdx.edu/api/rest/aois/?format=geojson",datatype:"json",headers:{Authorization:"Token "+l},success:function(e){s=new Array,i=L.geoJson(e,{onEachFeature:function(e,t){t.bindPopup(e.properties.name)},style:c}).addTo(p),p.fitBounds(i.getBounds(),{animate:!0}),L.control.scale().addTo(p)}}),$(document).on("click",".feature-row",function(e){var t=this.getAttribute("value"),n=" ";i.eachLayer(function(e){e.feature.properties.name==t?(e.setStyle(m),e.bringToFront(),n=e.feature.properties.url,n=n.substring(0,n.indexOf("?")),p.fitBounds(e.getBounds(),{maxZoom:9,animate:!0})):(i.resetStyle(e),u.hide())}),jQuery.ajax({type:"GET",url:n,datatype:"json",headers:{Authorization:"Token "+l},success:function(e){u.setContent(o(e)),setTimeout(function(){u.show()},500)}})}),p.on("moveend",function(e){s=new Array,$("#feature-list tbody").empty(),i.eachLayer(function(e){p.getBounds().intersects(e.getLatLngs())&&s.push(e.feature.properties.name)}),a()}),$("#sort-btn").on("click",function(e){d="descending",a(),$(".panel-body").empty(),$(".panel-body").append('<div class="row"><input type="text" class="form-control search" placeholder="Filter" /><button type="button" class="btn sort asc" data-sort="feature-name" id="sort-btndesc"><i class="fa fa-sort-alpha-desc" aria-hidden="true"></i> Sort</button></div>')}),$(document).on("click","#sort-btndesc",function(){d="ascending",a(),$(".panel-body").empty(),$(".panel-body").append('<div class="row"><input type="text" class="form-control search" placeholder="Filter" /><button type="button" class="btn sort" data-sort="feature-name" id="sort-btnasc"><i class="fa fa-sort-alpha-asc" aria-hidden="true"></i> Sort</button></div>')}),$(document).on("click","#sort-btnasc",function(){d="descending",a(),$(".panel-body").empty(),$(".panel-body").append('<div class="row"><input type="text" class="form-control search" placeholder="Filter" /><button type="button" class="btn sort" data-sort="feature-name" id="sort-btndesc"><i class="fa fa-sort-alpha-desc" aria-hidden="true"></i> Sort</button></div>')})}]),app.controller("PasswordChangeController",function(e,t,n){e.model={new_password1:"",new_password2:""},e.complete=!1,e.changePassword=function(r){e.errors=[],n.form_validation(r,e.errors),r.$invalid||t.changePassword(e.model.new_password1,e.model.new_password2).then(function(t){e.complete=!0},function(t){e.errors=t})}}),app.controller("PasswordResetController",function(e,t,n,r,a){e.processForm=function(a){console.log(e.email),r.resetPassword(e.email).then(function(r){console.log(r),e.$apply(function(){e.message=r.success}),n(function(){t.go("login")},3e3)},function(t){console.log(t),e.$apply(function(){e.errors=t})})}}),app.controller("PasswordResetConfirmController",function(e,t,n,r,a,o){e.model={new_password1:"",new_password2:""},e.complete=!1,e.confirmReset=function(s){e.errors=[],o.form_validation(s,e.errors),s.$invalid||a.confirmReset(t.userToken,t.passwordResetToken,e.model.new_password1,e.model.new_password2).then(function(t){e.$apply(function(){e.complete=!0}),r(function(){n.go("login")},3e3)},function(t){e.$apply(function(){e.errors=t})})}}),app.controller("RestrictedController",function(e,t){e.$on("UserProfile.logged_in",function(){t.path("/")})}),app.controller("RegisterController",function(e,t,n){e.model={username:"",password:"",email:""},e.complete=!1,e.register=function(r){e.errors=[],n.form_validation(r,e.errors),r.$invalid||t.register(e.model.username,e.model.password1,e.model.password2,e.model.email).then(function(t){e.$apply(function(){e.complete=!0})},function(t){e.$apply(function(){e.errors=t})})}}),app.service("Validate",function(){return{message:{minlength:"This value is not long enough.",maxlength:"This value is too long.",email:"A properly formatted email address is required.",required:"This field is required."},more_messages:{demo:{required:"Here is a sample alternative required message."}},check_more_messages:function(e,t){return(this.more_messages[e]||[])[t]||null},validation_messages:function(e,t,n){var r=[];for(var a in t[e].$error)if(t[e].$error[a]){var o=this.check_more_messages(e,a);o?r.push(o):this.message[a]?r.push(this.message[a]):r.push("Error: "+a)}var s=[];angular.forEach(r,function(e,t){-1===s.indexOf(e)&&s.push(e)}),n&&(n[e]=s)},form_validation:function(e,t){for(var n in e)"$"!=n.substr(0,1)&&this.validation_messages(n,e,t)}}}),app.controller("VerifyEmailController",function(e,t,n){n.verify(t.emailVerificationToken).then(function(t){e.success=!0},function(t){e.failure=!1})}),angular.module("app.templates",[]).run(["$templateCache",function(e){e.put("app-templates/app/authrequired.html","<p>This is a restricted view.  You must be authenticated to view it.</p>\n"),e.put("app-templates/app/restricted.html","<p>You have attempted to access a restricted page.  Please login to continue.</p>\n<div ng-include=\"'app-templates/app/login.html'\"></div>\n"),e.put("app-templates/app/partial/account/account.html",'<div id="userProfile_view" ng-controller="UserProfileController">\n    <div ng-if="complete == false">\n        <form role="form" ng-if="authenticated" name="userProfileForm" ng-submit="updateProfile(userProfileForm, model)" novalidate>\n            <div class="form-group">\n                <label for="id_first_name">First Name</label>\n                <input name="first_name" id="id_first_name" class="form-control" type="text" ng-model="model.first_name" placeholder="First Name" />\n            </div>\n            <div class="alert alert-danger" ng-repeat="error in errors.first_name">{{error}}</div>\n            <div class="form-group">\n                <label for="id_last_name">Last Name</label>\n                <input name="last_name" id="id_last_name" class="form-control" type="text" ng-model="model.last_name" placeholder="Last Name" />\n            </div>\n            <div class="alert alert-danger" ng-repeat="error in errors.last_name">{{error}}</div>\n            <div class="form-group">\n                <label for="id_email">Email</label>\n                <input name="email" id="id_email" class="form-control" type="email" ng-model="model.email" placeholder="Email" required />\n            </div>\n            <div class="alert alert-danger" ng-repeat="error in errors.email">{{error}}</div>\n            <button type="submit" ng-show="authenticated" class="btn btn-primary">Update Profile</button>\n        </form>\n        <div class="alert alert-warning" ng-if="authenticated == false">You need to be logged in to do this.</div>\n    </div>\n    <div ng-if="complete == true">\n        <div class="alert alert-success">You have updated your profile.</div>\n    </div>\n</div>\n'),e.put("app-templates/app/partial/account/login.html",'<div id="login_view" ng-controller="LoginController">\n    <div class="header">\n        <h3 class="text-muted">Please login using your eBAGIS user credentials</h3>\n    </div>\n    <form role="form" ng-submit="login(loginForm)" name="loginForm" novalidate>\n        <div class="form-group">\n            <label for="id_username">Username</label>\n            <input name="username" id="id_username" type="text" ng-model="model.username" placeholder="Username" class="form-control" required />\n        </div>\n        <div class="alert alert-danger" ng-repeat="error in errors.username">{{error}}</div>\n        <div class="form-group">\n            <label for="id_password">Password</label>\n            <input name="password" id="id_password" type="password" ng-model="model.password" placeholder="Password" class="form-control" required />\n        </div>\n        <div class="alert alert-danger" ng-repeat="error in errors.password">{{error}}</div>\n        <div class="alert alert-danger" ng-repeat="error in errors.non_field_errors">{{error}}</div>\n        <div class="alert alert-danger" ng-if="error">{{error}}</div>\n        <button type="submit" class="btn btn-primary">Login</button>\n        <a ui-sref="forgot">Trouble logging in?</a>\n    </form>\n</div>\n'),e.put("app-templates/app/partial/account/logout.html",'<div id="logout_view" ng-controller="LogoutController">\n	<div class="alert alert-info">You have logged out.</div>\n</div>\n'),e.put("app-templates/app/partial/account/passwordchange.html",'<div id="passwordChange_view" ng-controller="PasswordChangeController">\n    <div ng-if="complete == false">\n        <form role="form" ng-submit="changePassword(changePasswordForm)" name="changePasswordForm" ng-if="authenticated" novalidate>\n            <div class="form-group">\n                <label for="id_password1">New Password</label>\n                <input name="new_password1" id="id_password1" type="password" ng-model="model.new_password1" placeholder="New Password" class="form-control" required />\n            </div>\n            <div class="alert alert-danger" ng-repeat="error in errors.new_password1">{{error}}</div>\n            <div class="form-group">\n                <label for="id_password2">Repeat Password</label>\n                <input name="new_password2" id="id_password2" type="password" ng-model="model.new_password2" placeholder="Repeat Password" class="form-control" required />\n            </div>\n            <div class="alert alert-danger" ng-repeat="error in errors.new_password2">{{error}}</div>\n            <button ng-show="authenticated" type="submit" class="btn btn-primary">Change Password</button>\n        </form>\n        <div class="alert alert-warning" ng-if="authenticated != true">You need to be logged in to do this!</div>\n    </div>\n    <div ng-if="complete == true">\n        <div class="alert alert-success">You have changed your password.</div>\n    </div>\n</div>\n'),e.put("app-templates/app/partial/account/passwordreset.html",'<div id="passwordReset_view" ng-controller="PasswordResetController">\n    <div class=header>\n        <h3 class="text-muted">Reset your password</h3>\n    </div>\n\n    <!-- SHOW ERROR/SUCCESS MESSAGES --> \n    <div class="alert alert-success" ng-show="message">You should receive an email shortly with instructions on how to reset your account password.</div>\n\n    <!-- FORM --> \n    <form name="resetPassword" ng-hide="message" ng-submit="processForm(resetPassword.$valid)"> \n      <!-- NAME --> \n      <div id="email-group" class="form-group" ng-class="{ \'has-error\' : errorEmail }"> \n        <label>Email</label> \n        <input type="text" name="email" ng-model="email" class="form-control" placeholder="Email"> \n        <div class="alert alert-danger" ng-repeat="error in errors.email">{{error}}</div>\n      </div>\n\n      <!-- SUBMIT BUTTON -->\n      <button type="submit" class="btn btn-success btn-lg btn-block">\n          <span class="glyphicon glyphicon-flash"></span> Reset Your Password\n      </button>\n    </form>\n\n    <!--\n    <div ng-if="complete == false">\n        <form role="form" ng-if="authenticated != true" name="passwordResetForm" ng-submit="resetPassword(passwordResetForm)" novalidate>\n            <div class="form-group">\n                <label for="id_email">Email</label>\n                <input name="email" id="id_email" type="text" ng-model="model.email" placeholder="Email" class="form-control" required></input>\n            </div>\n            <div class="alert alert-danger" ng-repeat="error in errors.email">{{error}}</div>\n            <button ng-hide="authenticated" type="submit" class="btn btn-primary">Reset Password</button>\n        </form>\n        <p ng-if="authenticated">You are already logged in!  You don\'t need to reset your password.</p>\n    </div>\n    <div ng-if="complete == true">\n        <div class="alert alert-success">You should receive an email shortly with instructions on how to reset your account password.</div>\n    </div>\n</div>\n-->\n'),e.put("app-templates/app/partial/account/passwordresetconfirm.html",'<div id="passwordResetConfirm_view" ng-controller="PasswordResetConfirmController">\n    <div ng-if="complete == false">\n        <form role="form" ng-if="authenticated != true" ng-submit="confirmReset(confirmResetForm)" name="confirmResetForm" novalidate>\n            <div class="form-group">\n                <label for="id_password1">New Password</label>\n                <input name="password1" id="id_password1" type="password" ng-model="model.new_password1" placeholder="New Password" class="form-control" required />\n            </div>\n            <div class="alert alert-danger" ng-repeat="error in errors.password1">{{error}}</div>\n            <div class="form-group">\n                <label for="id_password2">Repeat Password</label>\n                <input name="password2" id="id_password2" type="password" ng-model="model.new_password2" placeholder="Repeat Password" class="form-control" required />\n            </div>\n            <div class="alert alert-danger" ng-repeat="error in errors.password2">{{error}}</div>\n            <button type="submit" ng-hide="authenticated" class="btn btn-primary">Reset Password</button>\n        </form>\n        <p ng-if="authenticated">You are already logged in!  You don\'t need to reset your password.</p>\n    </div>\n    <div ng-if="complete == true">\n        <div class="alert alert-success">You have changed your password.</div>\n    </div>\n</div>\n'),e.put("app-templates/app/partial/account/register.html",'<div id="register_view" ng-controller="RegisterController">\n    <div class=header>\n        <h3 class="text-muted">Create an eBAGIS user account</h3>\n    </div>\n\n    <div ng-if="complete == false">\n        <form role="form" ng-if="authenticated != true" name="registerForm" ng-submit="register(registerForm)" novalidate>\n            <div class="form-group">\n                <label for="id_username">Username</label>\n                <input name="username" id="id_username" class="form-control" type="text" ng-model="model.username" placeholder="Username" required />\n            </div>\n            <div class="alert alert-danger" ng-repeat="error in errors.username">{{error}}</div>\n            <div class="form-group">\n                <label for="id_password">Password</label>\n                <input name="password1" id="id_password1" class="form-control" type="password" ng-model="model.password1" placeholder="Password" required />\n            </div>\n            <div class="alert alert-danger" ng-repeat="error in errors.password1">{{error}}</div>\n            <div class="form-group">\n                <label for="id_password">Repeat Password</label>\n                <input name="password" id="id_password2" class="form-control" type="password" ng-model="model.password2" placeholder="Repeat Password" required />\n            </div>\n            <div class="alert alert-danger" ng-repeat="error in errors.password2">{{error}}</div>\n            <div class="form-group">\n                <label for="id_email">Email</label>\n                <input name="email" id="id_email" class="form-control" type="email" ng-model="model.email" placeholder="Email" required />\n            </div>\n            <div class="alert alert-danger" ng-repeat="error in errors.email">{{error}}</div>\n            <button ng-hide="authenticated" type="submit" class="btn btn-primary">Register</button>\n        </form>\n        <p ng-if="authenticated">You are already logged in!  You don\'t need to register.</p>\n    </div>\n    <div ng-if="complete == true">\n        <div class="alert alert-success">Great!  You\'ve just registered.  You should receive an email shortly with instructions on how to activate your account.</div>\n    </div>\n</div>\n'),e.put("app-templates/app/partial/account/verifyemail.html",'<div id="verifyEmail_view" ng-controller="VerifyEmailController">\n	<div ng-if="success" class="alert alert-success">You have successfully verified your email address.</div>\n	<div ng-if="failure" class="alert alert-warning">Sorry, there\'s been an error.</div>\n</div>\n'),e.put("app-templates/app/partial/main/404.html","<p>\n    The resource you are attempting to access could not be found. If you feel you reached this page in error, please contact the site administrator.\n</p>\n"),e.put("app-templates/app/partial/main/home.html",'<!--\n<p>\n    <a ng-hide="authenticated" href="#/login" class="btn btn-primary">Login</a>\n    <a ng-hide="authenticated" href="#/passwordReset" class="btn btn-primary">Send Password Reset</a>\n    <a ng-hide="authenticated" ng-click="goConfirmReset()" class="btn btn-primary">Confirm Password Reset</a>\n</p>\n<p>\n    <a ng-show="authenticated" href="#/logout" class="btn btn-primary">Logout</a>\n    <a ng-hide="authenticated" ng-href="#/register" class="btn btn-primary">Register</a>\n    <a ng-click="goVerify()" class="btn btn-primary">Verify Email</a>\n    <a ng-show="authenticated" href="#/passwordChange" class="btn btn-primary">Change Password</a>\n    <a ng-show="authenticated" href="#/userProfile" class="btn btn-primary">Profile</a>\n    <a href="#/authRequired" class="btn btn-primary">Restricted Page</a>\n</p>\n-->\n'),e.put("app-templates/app/partial/header/account.html",'<li><a ng-hide="authenticated" ng-href="#/register">Register</a></li>\n<li><a ng-hide="authenticated" href="#/login">Login</a></li>\n<li class="dropdown" dropdown="" ng-show="authenticated"\n    <a href="#" class="dropdown-toggle" dropdown-toggle="" data-toggle="dropdown">Dropdown               <b class="caret"></b></a>\n    <ul class="dropdown-menu" role="menu">\n        <li role="menuitem"><a href="#/account">User Account</a></li>\n        <li class="divider"></li>\n        <li role="menuitem"><a href="#/logout">Sign Out</a></li>\n    </ul>\n</li>\n\n\n<!-- Single button with keyboard nav\n<li><a ng-hide="authenticated" ng-href="#/register">Register</a></li>\n<li><a ng-hide="authenticated" href="#/login">Login</a></li>\n<li>\n    <div class="btn-group" uib-dropdown keyboard-nav ng-show="authenticated">\n        <button id="simple-btn-keyboard-nav" type="button" class="btn btn-primary" uib-dropdown-toggle>\n            Dropdown with keyboard navigation <span class="caret"></span>\n        </button>\n        <ul class="dropdown-menu" uib-dropdown-menu role="menu" aria-labelledby="simple-btn-keyboard-nav">\n            <li role="menuitem"><a href="#/account">User Account</a></li>\n            <li class="divider"></li>\n            <li role="menuitem"><a href="#/logout">Sign Out</a></li>\n        </ul>\n    </div>\n</li>\n<p>\n    <a ng-hide="authenticated" href="#/login" class="btn btn-primary">Login</a>\n    <a ng-hide="authenticated" href="#/passwordReset" class="btn btn-primary">Send Password Reset</a>\n    <a ng-hide="authenticated" ng-click="goConfirmReset()" class="btn btn-primary">Confirm Password Reset</a>\n</p>\n<p>\n    <a ng-show="authenticated" href="#/logout" class="btn btn-primary">Logout</a>\n    <a ng-hide="authenticated" ng-href="#/register" class="btn btn-primary">Register</a>\n    <a ng-click="goVerify()" class="btn btn-primary">Verify Email</a>\n    <a ng-show="authenticated" href="#/passwordChange" class="btn btn-primary">Change Password</a>\n    <a ng-show="authenticated" href="#/userProfile" class="btn btn-primary">Profile</a>\n    <a href="#/authRequired" class="btn btn-primary">Restricted Page</a>\n</p>\n-->\n'),e.put("app-templates/app/partial/header/header.html",'<nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">\n  <!-- Brand and toggle get grouped for better mobile display -->\n  <div class="navbar-header">\n    <button type="button" class="navbar-toggle" ng-init="navCollapsed = true" ng-click="navCollapsed = !navCollapsed">\n      <span class="sr-only">Toggle navigation</span>\n      <span class="icon-bar"></span>\n      <span class="icon-bar"></span>\n      <span class="icon-bar"></span>\n    </button>\n    <a class="navbar-brand" ui-sref="home">NRCS NWCC eBAGIS</a>\n  </div>\n  <!-- Collect the nav links, forms, and other content for toggling -->\n  <div class="collapse navbar-collapse" collapse="navCollapsed">\n    <ul class="nav navbar-nav navbar-right">\n        <li><a ng-hide="authenticated" ui-sref="register">Register</a></li>\n        <li><a ng-hide="authenticated" ui-sref="login">Login</a></li>\n        <li>\n            <a ng-show="authenticated" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">\n                Hello {{user.first_name}}<span class="caret"></span>\n            </a>\n            <ul class="dropdown-menu">\n           <!-- <div class="btn-group" uib-dropdown keyboard-nav ng-show="authenticated">\n                Dropdown with keyboard navigation <span class="caret"></span>\n                <ul class="dropdown-menu" uib-dropdown-menu role="menu" aria-labelledby="simple-btn-keyboard-nav">-->\n                    <li role="menuitem"><a ui-sref="account">Your Account</a></li>\n                    <li class="divider"></li>\n                    <li role="menuitem"><a ui-sref="logout">Sign Out</a></li>\n                </ul>\n            </div>\n        </li>\n    </ul>\n  </div>\n  <!-- /.navbar-collapse -->\n</nav>\n\n\n<!--\n<nav class="navbar navbar-inverse navbar-fixed-top">\n    <div class="navbar-header">\n      <a class="navbar-brand" href="#">NRCS NWCC eBAIGS</a>\n    </div>\n    <ul class="nav navbar-nav navbar-right">\n      <header-account></header-account>\n    </ul>\n</nav>\n\n<p>\n    <a ng-hide="authenticated" href="#/login" class="btn btn-primary">Login</a>\n    <a ng-hide="authenticated" href="#/passwordReset" class="btn btn-primary">Send Password Reset</a>\n    <a ng-hide="authenticated" ng-click="goConfirmReset()" class="btn btn-primary">Confirm Password Reset</a>\n</p>\n<p>\n    <a ng-show="authenticated" href="#/logout" class="btn btn-primary">Logout</a>\n    <a ng-hide="authenticated" ng-href="#/register" class="btn btn-primary">Register</a>\n    <a ng-click="goVerify()" class="btn btn-primary">Verify Email</a>\n    <a ng-show="authenticated" href="#/passwordChange" class="btn btn-primary">Change Password</a>\n    <a ng-show="authenticated" href="#/userProfile" class="btn btn-primary">Profile</a>\n    <a href="#/authRequired" class="btn btn-primary">Restricted Page</a>\n</p>\n-->\n'),
e.put("app-templates/app/partial/map/map.html",'<div id="map_view" ng-controller="MapController">\n    <link rel="stylesheet" property="stylesheet" href="css/map.css">\n    <div class="uk-grid uk-margin-remove uk-grid-collapse" id="main">\n        <!--SIDEBAR-->\n        <div class ="overlay uk-width-1-5">\n            <div id="sidebar">\n                <div class="sidebar-wrapper">\n                    <div class="panel panel-default" id="features">\n                        <div class="panel-heading">\n                            <h3 class="panel-title">Areas of Interest</h3>\n                        </div>\n                        <div class="panel-body" id=\'#panel-body\'>\n                            <div class="row">\n                                <input type="text" class="form-control search" placeholder="Filter" />\n                                <button type="button" class="btn sort" data-sort="feature-name" id="sort-btn"><i class="fa fa-sort-alpha-desc" aria-hidden="true"></i> Sort</button>\n                            </div>\n                        </div>\n                        <div class="sidebar-table">\n                            <table class="table table-hover" id="feature-list">\n                                <thead class="hidden">\n                                    <tr>\n                                        <th>Icon</th>\n                                    <tr>\n                                    <tr>\n                                        <th>Name</th>\n                                    <tr>\n                                </thead>\n                                <tbody class="list"></tbody>\n                            </table>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <!-- END OF SIDEBAR-->\n\n        <!--MAP AND bottom bar-->\n        <div class="uk-width-4-5">\n            <div id="map"></div>\n            <div id="bar"></div>\n\n        </div>\n    </div>\n</div>\n')}]);
//# sourceMappingURL=app.min.js.map
